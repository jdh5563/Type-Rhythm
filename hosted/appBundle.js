(()=>{var e={982:e=>{let t,a;e.exports={init:()=>{t=document.getElementById("canvas"),a=t.getContext("2d"),t.width=.6*window.innerWidth,t.height=.69*t.clientWidth,a.save(),a.fillStyle="black",a.fillRect(0,0,t.clientWidth,t.height)},createLobby:async e=>{const t=await fetch("/getUsername"),a=await t.json().then((e=>e)),n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let c="";for(let e=0;e<4;e++)c+=n[Math.floor(Math.random()*n.length)];const r={username:a.username,raceCode:c,_csrf:e},o=await fetch("/createLobby",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return await o.json()},joinLobby:async(e,t)=>{const a=await fetch("/getUsername"),n=(await a.json().then((e=>e)),await fetch("/joinLobby",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(lobbyInfo)}));return await n.json()}}}},t={};function a(n){var c=t[n];if(void 0!==c)return c.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}(()=>{const e=a(982),t=async t=>{t.preventDefault();const a=await e.createLobby(t.target.querySelector("#_csrf").value);ReactDOM.render(React.createElement(o,{players:[a.players],raceCode:a.raceCode}),document.getElementById("game-content"))},n=async t=>{t.preventDefault();const a=await e.joinLobby(t.target.querySelector("#raceCode"),t.target.querySelector("#_csrf").value);ReactDOM.render(React.createElement(o,{players:[a.players],raceCode:a.raceCode}),document.getElementById("game-content"))},c=async t=>{t.preventDefault(),await ReactDOM.render(React.createElement(l,null),document.getElementById("game-content")),e.init()},r=e=>React.createElement("div",null,React.createElement("h1",null,"Join a Race!"),React.createElement("form",{id:"createForm",name:"createForm",onSubmit:t,action:"/createRace",method:"POST"},React.createElement("div",null,React.createElement("input",{type:"submit",value:"Create Race"})),React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:e.csrf})),React.createElement("form",{id:"joinForm",name:"joinForm",onSubmit:n,action:"/joinRace",method:"POST"},React.createElement("div",null,React.createElement("input",{id:"raceCode",type:"text",placeholder:"Race Code"}),React.createElement("input",{type:"submit",value:"Join Race"})),React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:e.csrf}))),o=e=>{const t=e.players.map((e=>React.createElement("div",{key:e.username},React.createElement("h3",null,e.username))));return React.createElement("div",null,t,React.createElement("div",null,"Race Code: ",e.raceCode),React.createElement("form",{id:"raceForm",name:"raceForm",onSubmit:c,action:"/startRace",method:"POST"},React.createElement("input",{type:"submit",value:"Start Race"})))},l=e=>React.createElement("canvas",{id:"canvas"});window.onload=async()=>{const e=await fetch("/getToken"),t=await e.json();ReactDOM.render(React.createElement(r,{csrf:t.csrfToken}),document.getElementById("game-content"))}})()})();